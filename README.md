# lgb_v1

## 特征选择
1. 选择共同特征共35个
2. 对class、employer_type、industry、work_year做label编码
3. 去掉了issue_date、earlies_credit_mon两个日期

## 超参数调整
|参数名|参数值|交叉验证auc|
| --- | --- | --- |
|num_leaves|30|0.8744353289285414 ± 0.007191544118111385|



# feature

## 特征工程v1

1. 填补所有表的缺失值
2. industry和employer_type换成了one-hot编码（但每一个职业都变成了一个特征 感觉特征稍微有点多了）
3. issue_data取了[年份]，[月份]和[星期]这3个新特征

## 超参数调整

| num_leaves | max_depth | n_estimators | 线下交叉验证auc    | 线上auc       |
| ---------- | --------- | ------------ | ------------------ | ------------- |
| 32         | 6         | 100          | 0.8774697634061044 | 0.85259483436 |

（参数参考了网上的一个LGBMClassifier）



## 特征工程v2

1. 使用toad分箱工具对连续特征进行处理
2. 恢复industry的one-hot编码
3. 尝试解决之前的过拟合问题

## 超参数调整

| num_leaves | max_depth | n_estimators | 线下交叉验证auc    | 线上auc       |
| ---------- | --------- | ------------ | ------------------ | ------------- |
| 32         | 6         | 100          | 0.8780814925326975 | 0.85308524808 |



# 更新了一版lightGBM

1. 添加了每个特征对应出现的概率特征和正样本特征（共93个特征）
2. 将概率特征做了归一化（但效果并不显著）
3. 使用toad分箱工具对连续特征进行处理，尝试过全部特征的woe编码但结果非常不对劲（表现在训练auc非常高，但对比以往提交数据相差非常大，线上无法进行测试（数据过时））
4. 目前线上线下显示的auc差别不太大，过拟合问题暂时没出现
5. 下一步准备先用5折检测找一个最优的模型参数，再找找其他特征工程适用的方法

## 超参数调整

| num_leaves | max_depth | n_estimators | 线下交叉验证auc    | 线上auc       |
| ---------- | --------- | ------------ | ------------------ | ------------- |
| 16         | 5         | 10000        | 0.8824004496227937 | 0.88324650621 |

P.S. 目前记录分数最高的一次，但代码不是最高的那版